<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="514px" preserveAspectRatio="none" style="width:1283px;height:514px;" version="1.1" viewBox="0 0 1283 514" width="1283px" zoomAndPan="magnify"><defs><filter height="300%" id="f15uipazm0hk8r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f15uipazm0hk8r)" height="149.7578" style="stroke: #383838; stroke-width: 1.0;" width="10" x="721.5" y="305.0078"/><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="146" x="283.5" y="49.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="290.5" y="71.1426">ChannelClientSocket</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="65" x="443.5" y="96.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="450.5" y="117.752">Datalink</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="159" x="522.5" y="142.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="529.5" y="164.3613">CommunicationContext</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="58" x="695.5" y="189.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="702.5" y="210.9707">Integra</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="95" x="767.5" y="236.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="774.5" y="257.5801">SaleRequest</text><rect fill="#FFFFFF" filter="url(#f15uipazm0hk8r)" height="75.0547" style="stroke: #000000; stroke-width: 2.0;" width="586.5" x="685.5" y="320.0078"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="39.6094" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="358.5" x2="358.5" y1="82.9141" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="477.5" x2="477.5" y1="129.5234" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="603.5" x2="603.5" y1="176.1328" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="726.5" x2="726.5" y1="222.7422" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="816.5" x2="816.5" y1="269.3516" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="953.5" x2="953.5" y1="39.6094" y2="472.7656"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1108.5" x2="1108.5" y1="39.6094" y2="472.7656"/><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="43" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="15" y="24.5332">POS</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="43" x="8" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="15" y="493.2988">POS</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="146" x="283.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="290.5" y="493.2988">ChannelClientSocket</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="65" x="443.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="450.5" y="493.2988">Datalink</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="159" x="522.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="529.5" y="493.2988">CommunicationContext</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="58" x="695.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="702.5" y="493.2988">Integra</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="95" x="767.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="774.5" y="493.2988">SaleRequest</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="151" x="876.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="883.5" y="24.5332">IStatusUpdateHandler</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="151" x="876.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="883.5" y="493.2988">IStatusUpdateHandler</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="130" x="1041.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1048.5" y="24.5332">IResponseHandler</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="130" x="1041.5" y="471.7656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1048.5" y="493.2988">IResponseHandler</text><rect fill="#FFFFFF" filter="url(#f15uipazm0hk8r)" height="149.7578" style="stroke: #383838; stroke-width: 1.0;" width="10" x="721.5" y="305.0078"/><polygon fill="#383838" points="271.5,67.9609,281.5,71.9609,271.5,75.9609,275.5,71.9609" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="277.5" y1="71.9609" y2="71.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="38.5" y="67.1045">channel = new("192.168.1.11", 1234, 1)</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="146" x="283.5" y="49.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="290.5" y="71.1426">ChannelClientSocket</text><polygon fill="#383838" points="431.5,114.5703,441.5,118.5703,431.5,122.5703,435.5,118.5703" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="437.5" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="38.5" y="113.7139">datalink = new()</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="65" x="443.5" y="96.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="450.5" y="117.752">Datalink</text><polygon fill="#383838" points="510.5,161.1797,520.5,165.1797,510.5,169.1797,514.5,165.1797" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="516.5" y1="165.1797" y2="165.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="38.5" y="160.3232">comm = new(channel, datalink)</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="159" x="522.5" y="142.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="529.5" y="164.3613">CommunicationContext</text><polygon fill="#383838" points="683.5,207.7891,693.5,211.7891,683.5,215.7891,687.5,211.7891" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="689.5" y1="211.7891" y2="211.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="38.5" y="206.9326">new(comm, statusHandler)</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="58" x="695.5" y="189.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="702.5" y="210.9707">Integra</text><polygon fill="#383838" points="755.5,254.3984,765.5,258.3984,755.5,262.3984,759.5,258.3984" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="761.5" y1="258.3984" y2="258.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="38.5" y="253.542">request = new(options)</text><rect fill="#F8F8F8" filter="url(#f15uipazm0hk8r)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="95" x="767.5" y="236.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="774.5" y="257.5801">SaleRequest</text><polygon fill="#383838" points="709.5,301.0078,719.5,305.0078,709.5,309.0078,713.5,305.0078" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="715.5" y1="305.0078" y2="305.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="38.5" y="300.1514">sendRequest(request, responseHandler)</text><path d="M685.5,320.0078 L758.5,320.0078 L758.5,328.0078 L748.5,338.0078 L685.5,338.0078 L685.5,320.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.0547" style="stroke: #000000; stroke-width: 2.0;" width="586.5" x="685.5" y="320.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="700.5" y="334.5029">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="773.5" y="333.4268">[every status update]</text><polygon fill="#383838" points="942,369.8867,952,373.8867,942,377.8867,946,373.8867" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="731.5" x2="948" y1="373.8867" y2="373.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="738.5" y="369.0303">onStatusUpdate(update)</text><path d="M959,343.3594 L959,385.3594 L1253,385.3594 L1253,353.3594 L1243,343.3594 L959,343.3594 " fill="#ECECEC" filter="url(#f15uipazm0hk8r)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1243,343.3594 L1243,353.3594 L1253,353.3594 L1243,343.3594 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="965" y="361.8545">This is called when a status update is received.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="965" y="378.2061">This is a callback function.</text><polygon fill="#383838" points="42.5,420.4141,32.5,424.4141,42.5,428.4141,38.5,424.4141" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="720.5" y1="424.4141" y2="424.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="48.5" y="419.5576">true if the request was tryed to be sent</text><polygon fill="#383838" points="1096.5,450.7656,1106.5,454.7656,1096.5,458.7656,1100.5,454.7656" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="726.5" x2="1102.5" y1="454.7656" y2="454.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="733.5" y="449.9092">onResponse(response)</text><!--MD5=[5ef03d762043892e7c822f82c2835f64]
@startuml
skinparam monochrome true

create POS

create ChannelClientSocket
POS -> ChannelClientSocket: channel = new("192.168.1.11", 1234, 1)

create Datalink
POS -> Datalink: datalink = new()

create CommunicationContext
POS -> CommunicationContext : comm = new(channel, datalink)

create Integra
POS -> Integra : new(comm, statusHandler)

create SaleRequest
POS -> SaleRequest : request = new(options)

POS -> Integra : sendRequest(request, responseHandler)

activate Integra
loop every status update
Integra -> IStatusUpdateHandler: onStatusUpdate(update)
note right
  This is called when a status update is received.
  This is a callback function.
end note

end

Integra - -> POS : true if the request was tryed to be sent
Integra -> IResponseHandler : onResponse(response)

deactivate Integra

@enduml

PlantUML version 1.2019.11(Sun Sep 22 11:02:15 BST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.5+10-b520.38
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>