<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="314.3px" preserveAspectRatio="none" style="width:828px;height:314px;" version="1.1" viewBox="0 0 828 314" width="828.1px" zoomAndPan="magnify"><defs><filter height="300%" id="f8lqmipw35xqb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.8" dy="2.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f8lqmipw35xqb)" height="42.4922" style="stroke: #383838; stroke-width: 0.7;" width="7" x="396.55" y="230.4367"/><rect fill="#FFFFFF" filter="url(#f8lqmipw35xqb)" height="21.2461" style="stroke: #383838; stroke-width: 0.7;" width="7" x="674.8" y="187.9445"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="21.7" x2="21.7" y1="27.7266" y2="285.5289"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="197.75" x2="197.75" y1="58.0398" y2="285.5289"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="313.95" x2="313.95" y1="90.6664" y2="285.5289"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="400.05" x2="400.05" y1="123.293" y2="285.5289"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="572.6" x2="572.6" y1="27.7266" y2="285.5289"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="678.3" x2="678.3" y1="27.7266" y2="285.5289"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 5.0,5.0;" x1="776.3" x2="776.3" y1="27.7266" y2="285.5289"/><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="30.1" x="5.6" y="2.1"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="20.3" x="10.5" y="17.1732">POS</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="30.1" x="5.6" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="20.3" x="10.5" y="299.9021">POS</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="102.2" x="145.25" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="92.4" x="150.15" y="299.9021">ChannelClientSocket</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="111.3" x="257.25" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="101.5" x="262.15" y="299.9021">CommunicationContext</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="40.6" x="378.35" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="30.8" x="383.25" y="299.9021">Integra</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="105.7" x="518.7" y="2.1"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="95.9" x="523.6" y="17.1732">IStatusUpdateHandler</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="105.7" x="518.7" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="95.9" x="523.6" y="299.9021">IStatusUpdateHandler</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="85.4" x="634.2" y="2.1"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="639.1" y="17.1732">ResquestFactory</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="85.4" x="634.2" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="75.6" x="639.1" y="299.9021">ResquestFactory</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="91" x="729.4" y="2.1"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="81.2" x="734.3" y="17.1732">IResponseHandler</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="91" x="729.4" y="284.8289"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="81.2" x="734.3" y="299.9021">IResponseHandler</text><rect fill="#FFFFFF" filter="url(#f8lqmipw35xqb)" height="42.4922" style="stroke: #383838; stroke-width: 0.7;" width="7" x="396.55" y="230.4367"/><rect fill="#FFFFFF" filter="url(#f8lqmipw35xqb)" height="21.2461" style="stroke: #383838; stroke-width: 0.7;" width="7" x="674.8" y="187.9445"/><polygon fill="#383838" points="136.85,47.5727,143.85,50.3727,136.85,53.1727,139.65,50.3727" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="22.05" x2="141.05" y1="50.3727" y2="50.3727"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="26.95" y="46.9731">new("192.168.1.11", 1234)</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="102.2" x="145.25" y="34.7266"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="92.4" x="150.15" y="49.7998">ChannelClientSocket</text><polygon fill="#383838" points="248.85,80.1992,255.85,82.9992,248.85,85.7992,251.65,82.9992" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="22.05" x2="253.05" y1="82.9992" y2="82.9992"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="148.4" x="26.95" y="79.5997">new(IChannel channel, IDatalink link)</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="111.3" x="257.25" y="67.3531"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="101.5" x="262.15" y="82.4264">CommunicationContext</text><polygon fill="#383838" points="369.95,112.8258,376.95,115.6258,369.95,118.4258,372.75,115.6258" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="22.05" x2="374.15" y1="115.6258" y2="115.6258"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="270.2" x="26.95" y="112.2263">new(CommunicationContext comm, IStatusUpdateHandler handler)</text><rect fill="#F8F8F8" filter="url(#f8lqmipw35xqb)" height="22.1266" style="stroke: #383838; stroke-width: 1.0499999999999998;" width="40.6" x="378.35" y="99.9797"/><text fill="#000000" font-family="sans-serif" font-size="9.8" lengthAdjust="spacingAndGlyphs" textLength="30.8" x="383.25" y="115.0529">Integra</text><polygon fill="#383838" points="564.55,154.6754,571.55,157.4754,564.55,160.2754,567.35,157.4754" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="400.05" x2="568.75" y1="157.4754" y2="157.4754"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="156.1" x="404.95" y="154.0759">onStatusUpdate(StatusUpdate update)</text><path d="M576.1,136.1063 L576.1,165.5063 L781.9,165.5063 L781.9,143.1063 L774.9,136.1063 L576.1,136.1063 " fill="#ECECEC" filter="url(#f8lqmipw35xqb)" style="stroke: #383838; stroke-width: 0.7;"/><path d="M774.9,136.1063 L774.9,143.1063 L781.9,143.1063 L774.9,136.1063 " fill="#ECECEC" style="stroke: #383838; stroke-width: 0.7;"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="191.1" x="580.3" y="149.0528">This is called when a status update is received.</text><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="107.8" x="580.3" y="160.4989">This is a callback function.</text><polygon fill="#383838" points="666.4,185.1445,673.4,187.9445,666.4,190.7445,669.2,187.9445" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="22.05" x2="670.6" y1="187.9445" y2="187.9445"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="172.9" x="26.95" y="184.545">createRequest(RequestType type, options)</text><polygon fill="#383838" points="29.75,206.3906,22.75,209.1906,29.75,211.9906,26.95,209.1906" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 2.0,2.0;" x1="25.55" x2="677.6" y1="209.1906" y2="209.1906"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="30.1" x="33.95" y="205.7911">request</text><polygon fill="#383838" points="388.15,227.6367,395.15,230.4367,388.15,233.2367,390.95,230.4367" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="22.05" x2="392.35" y1="230.4367" y2="230.4367"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="198.8" x="26.95" y="227.0372">sendRequest(Request request, responseHandler)</text><polygon fill="#383838" points="29.75,248.8828,22.75,251.6828,29.75,254.4828,26.95,251.6828" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7; stroke-dasharray: 2.0,2.0;" x1="25.55" x2="395.85" y1="251.6828" y2="251.6828"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="156.1" x="33.95" y="248.2833">true if the request was tryed to be sent</text><polygon fill="#383838" points="767.9,270.1289,774.9,272.9289,767.9,275.7289,770.7,272.9289" style="stroke: #383838; stroke-width: 0.7;"/><line style="stroke: #383838; stroke-width: 0.7;" x1="400.05" x2="772.1" y1="272.9289" y2="272.9289"/><text fill="#000000" font-family="sans-serif" font-size="9.1" lengthAdjust="spacingAndGlyphs" textLength="136.5" x="404.95" y="269.5294">onResponse(Response response)</text><!--MD5=[52a325325aa3a6ef9e9c9738be550486]
@startuml
skinparam monochrome true

create POS

create ChannelClientSocket
POS -> ChannelClientSocket: new("192.168.1.11", 1234)

create CommunicationContext
POS -> CommunicationContext : new(IChannel channel, IDatalink link)

create Integra
POS -> Integra : new(CommunicationContext comm, IStatusUpdateHandler handler)

Integra -> IStatusUpdateHandler: onStatusUpdate(StatusUpdate update)
note right
  This is called when a status update is received.
  This is a callback function.
end note

POS -> ResquestFactory ++ : createRequest(RequestType type, options)
return request

POS -> Integra ++ : sendRequest(Request request, responseHandler)

Integra - -> POS : true if the request was tryed to be sent
Integra -> IResponseHandler : onResponse(Response response)

deactivate Integra

@enduml

PlantUML version 1.2020.03beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+8-b520.43
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>