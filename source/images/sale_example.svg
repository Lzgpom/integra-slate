<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="449px" preserveAspectRatio="none" style="width:1100px;height:449px;" version="1.1" viewBox="0 0 1100 449" width="1100px" zoomAndPan="magnify"><defs><filter height="300%" id="f1hlvnc20ace1u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1hlvnc20ace1u)" height="60.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="566.5" y="329.1953"/><rect fill="#FFFFFF" filter="url(#f1hlvnc20ace1u)" height="30.3516" style="stroke: #383838; stroke-width: 1.0;" width="10" x="881" y="268.4922"/><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="146" x="207.5" y="49.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="214.5" y="71.1426">ChannelClientSocket</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="159" x="367.5" y="96.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="374.5" y="117.752">CommunicationContext</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="58" x="540.5" y="142.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="547.5" y="164.3613">Integra</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="39.6094" y2="407.8984"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="282.5" x2="282.5" y1="82.9141" y2="407.8984"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="448.5" x2="448.5" y1="129.5234" y2="407.8984"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="571.5" x2="571.5" y1="176.1328" y2="407.8984"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="735" x2="735" y1="39.6094" y2="407.8984"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="886" x2="886" y1="39.6094" y2="407.8984"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1026" x2="1026" y1="39.6094" y2="407.8984"/><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="43" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="15" y="24.5332">POS</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="43" x="8" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="15" y="428.4316">POS</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="146" x="207.5" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="214.5" y="428.4316">ChannelClientSocket</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="159" x="367.5" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="374.5" y="428.4316">CommunicationContext</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="58" x="540.5" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="547.5" y="428.4316">Integra</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="151" x="658" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="665" y="24.5332">IStatusUpdateHandler</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="151" x="658" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="665" y="428.4316">IStatusUpdateHandler</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="122" x="823" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="830" y="24.5332">ResquestFactory</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="122" x="823" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="830" y="428.4316">ResquestFactory</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="130" x="959" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="966" y="24.5332">IResponseHandler</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="130" x="959" y="406.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="966" y="428.4316">IResponseHandler</text><rect fill="#FFFFFF" filter="url(#f1hlvnc20ace1u)" height="60.7031" style="stroke: #383838; stroke-width: 1.0;" width="10" x="566.5" y="329.1953"/><rect fill="#FFFFFF" filter="url(#f1hlvnc20ace1u)" height="30.3516" style="stroke: #383838; stroke-width: 1.0;" width="10" x="881" y="268.4922"/><polygon fill="#383838" points="195.5,67.9609,205.5,71.9609,195.5,75.9609,199.5,71.9609" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="201.5" y1="71.9609" y2="71.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="38.5" y="67.1045">new("192.168.1.11", 1234)</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="146" x="207.5" y="49.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="214.5" y="71.1426">ChannelClientSocket</text><polygon fill="#383838" points="355.5,114.5703,365.5,118.5703,355.5,122.5703,359.5,118.5703" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="361.5" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="38.5" y="113.7139">new(channel, Datalink.DATALINK)</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="159" x="367.5" y="96.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="374.5" y="117.752">CommunicationContext</text><polygon fill="#383838" points="528.5,161.1797,538.5,165.1797,528.5,169.1797,532.5,165.1797" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="534.5" y1="165.1797" y2="165.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="38.5" y="160.3232">new(comm, statusHandler)</text><rect fill="#F8F8F8" filter="url(#f1hlvnc20ace1u)" height="31.6094" style="stroke: #383838; stroke-width: 1.5;" width="58" x="540.5" y="142.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="547.5" y="164.3613">Integra</text><polygon fill="#383838" points="723.5,220.9648,733.5,224.9648,723.5,228.9648,727.5,224.9648" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="571.5" x2="729.5" y1="224.9648" y2="224.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="578.5" y="220.1084">onStatusUpdate(update)</text><path d="M740,194.4375 L740,236.4375 L1034,236.4375 L1034,204.4375 L1024,194.4375 L740,194.4375 " fill="#ECECEC" filter="url(#f1hlvnc20ace1u)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1024,194.4375 L1024,204.4375 L1034,204.4375 L1024,194.4375 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="746" y="212.9326">This is called when a status update is received.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="746" y="229.2842">This is a callback function.</text><polygon fill="#383838" points="869,264.4922,879,268.4922,869,272.4922,873,268.4922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="875" y1="268.4922" y2="268.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="38.5" y="263.6357">createRequest(SettlementType.SALE, options)</text><polygon fill="#383838" points="42.5,294.8438,32.5,298.8438,42.5,302.8438,38.5,298.8438" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="885" y1="298.8438" y2="298.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="48.5" y="293.9873">request</text><polygon fill="#383838" points="554.5,325.1953,564.5,329.1953,554.5,333.1953,558.5,329.1953" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="31.5" x2="560.5" y1="329.1953" y2="329.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="38.5" y="324.3389">sendRequest(Request request, responseHandler)</text><polygon fill="#383838" points="42.5,355.5469,32.5,359.5469,42.5,363.5469,38.5,359.5469" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="36.5" x2="565.5" y1="359.5469" y2="359.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="48.5" y="354.6904">true if the request was tryed to be sent</text><polygon fill="#383838" points="1014,385.8984,1024,389.8984,1014,393.8984,1018,389.8984" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="571.5" x2="1020" y1="389.8984" y2="389.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="578.5" y="385.042">onResponse(response)</text><!--MD5=[034dc2dc092b9a259db986b9435e4ba8]
@startuml
skinparam monochrome true

create POS

create ChannelClientSocket
POS -> ChannelClientSocket: new("192.168.1.11", 1234)

create CommunicationContext
POS -> CommunicationContext : new(channel, Datalink.DATALINK)

create Integra
POS -> Integra : new(comm, statusHandler)

Integra -> IStatusUpdateHandler: onStatusUpdate(update)
note right
  This is called when a status update is received.
  This is a callback function.
end note

POS -> ResquestFactory ++ : createRequest(SettlementType.SALE, options)
return request

POS -> Integra ++ : sendRequest(Request request, responseHandler)

Integra - -> POS : true if the request was tryed to be sent
Integra -> IResponseHandler : onResponse(response)

deactivate Integra

@enduml

PlantUML version 1.2019.11(Sun Sep 22 11:02:15 BST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.5+10-b520.38
Operating System: Windows 10
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>